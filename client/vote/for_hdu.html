<!DOCTYPE html>
<html ng-app="app" ng-controller="VoteCtrl">
<head>
  <title>{{title}} - 团团一家</title>
  <link rel="icon" href="/img/etuan_logo.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/img/etuan_logo.ico" type="image/x-icon">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="renderer" content="webkit">
  <script src="http://static.etuan.org/lib/angular/angular.min.js"></script>
  <script src="/js/login.js"></script>
  <link rel="stylesheet" href="/lib/bootstrap/css/etuan.css">
  <link rel="stylesheet" href="/css/vote_image-text.css">
  <script src="http://static.etuan.org/lib/angular-ui-bootstrap/etuan-ui-bootstrap.js"></script>
  <script src="/js/vote/vote_for_hdu.js"></script>
  <script src="/js/qrcode.min.js"></script>
  <script src="/js/school/hdu.js"></script>
  <style>
    html {
      min-height: 100%;
      height: 100%;
    }

    body {
      font-family: "Hiragino Sans GB", tahoma, arial, simsun, "宋体";
      min-height: 100%;
      height: 100%;
      background-color: #246db2;
      background-image: url(../img/vote_bg.jpg);
      background-repeat: no-repeat;
      background-position: top;
      background-attachment: fixed;
    }

    .bg_white {
      background-color: #ffffff;
      min-height: 100%;
    }

    .footer {
      font-size: 20px;
      margin-bottom: 15px;
    }

    .checkbox {
      text-decoration: none;
    }

    .detailOpen {
      margin-top: -8px;
      color: #0000CC;
    }

    .submitBtn > input {
      border-radius: 4px 4px 0 0;
    }

    .submitBtn > button {
      border-radius: 0 0 4px 4px;
    }

    .largeBox {
      background-color: #A8E1FF;
      padding: 15px 15px 0 15px;
      border-radius: 5px;
      margin-bottom: 50px;
    }

    .voteLargeBox {
      margin-top: 20px;
      border: 4px solid #37A4E9;
      padding: 10px;
      background-color: #F1FAFF;
      box-shadow: 1px 1px 5px #888888 inset;
    }

    .boxShadow {
      box-shadow: 5px 5px 10px #888888;
    }

    .hduLogo {
      width: 150px;height: 150px
    }
    .modal-open {
      overflow: initial !important;
    }
    @media screen and (max-width: 767px) {
      .largeBox {
        padding: 0 0 10px 0;
        border-radius: 0;
        margin-bottom: 0;
      }

      .container {
        padding: 0;
      }

      .voteBox {
        padding: 4px;
      }

      .voteLargeBox {
        padding: 10px 0;
      }

      .hduLogo {
        width: 100px;
        height: 100px;
      }
    }

    @media screen and (max-width: 450px) {
      .viewintro {
        position: absolute;
        right: -2.5%;
        top: -3.5%;
        width: 40%;
        height: 40%;
      }
    }
  </style>
  <script>
    var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?76a5edb5c9902d7c2e38f7a723060cff";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
</head>
<body>
<div class="container">
  <div class="text-center" style="margin: 50px">
    <div class="col-md-4">
      <img class="hduLogo" src="/img/hdubadge.png">
    </div>
    <br><br>
    <div class="col-md-8">
      <img style="width: 100%" class="hidden-xs" ng-show="vote.title === '2015年青年教学新秀评选'" src="/img/title1.png">
      <img style="width: 100%" class="hidden-xs" ng-show="vote.title === '2015年校卓越教学名师评选'" src="/img/title2.png">
      <img style="width: 100%" class="visible-xs" ng-show="vote.title === '2015年青年教学新秀评选'" src="/img/title1_mobile.png">
      <img style="width: 100%" class="visible-xs" ng-show="vote.title === '2015年校卓越教学名师评选'" src="/img/title2_mobile.png">
    </div>
    <div class="clearfix"></div>
  </div>

  <div class="largeBox" style="box-shadow: 5px 5px 10px #6BA1C4;">
    <div style="border: 4px solid #37A4E9;min-height: 300px;padding: 10px;background-color: #F1FAFF;box-shadow: 1px 1px 5px #888888 inset;">
      <div class="col-md-3 col-md-offset-1">
        <div style="border: 2px solid #e3e3e3;background-color: #ffffff;margin-top: 20px;padding: 5px;"
             class="text-center boxShadow hidden-xs hidden-sm qrcode" id="qrcode">
        </div>
      </div>
      <div class="col-md-7 col-md-offset-1">
        <a href="/vote/for_hdu.html#?id=562f105237d1e9ab13ff4362" style="margin-top: 15px;font-size: 15px" type="button" class="btn btn-danger btn-lg btn-block visible-xs visible-sm" ng-click="refresh()" ng-show="vote.title === '2015年青年教学新秀评选'">点击进入校卓越教学名师评选</a>
          
        <a href="/vote/for_hdu.html#?id=56305c16c7691f1a2108a8d5" style="margin-top: 15px;font-size: 15px" type="button" class="btn btn-danger btn-lg btn-block visible-xs visible-sm" ng-click="refresh()" ng-show="vote.title === '2015年校卓越教学名师评选'">点击进入青年教学新秀评选</a>
        <div class="col-md-5 col-md-offset-1 hidden-xs hidden-sm" >
          <img class="boxShadow" src="/img/word_bg.png" style="width:200px;margin-top:10px">
        </div>
        <div class="col-md-6">
          <a href="/vote/for_hdu.html#?id=562f105237d1e9ab13ff4362" style="margin-top: 15px;font-size: 15px" type="button" class="btn btn-danger btn-lg btn-block hidden-xs hidden-sm" ng-click="refresh()" ng-show="vote.title !== '2015年青年教学新秀评选'">点击进入校卓越教学名师评选</a>
          <a href="/vote/for_hdu.html#?id=56305c16c7691f1a2108a8d5" style="margin-top: 15px;font-size: 15px" type="button" class="btn btn-danger btn-lg btn-block hidden-xs hidden-sm" ng-click="refresh()" ng-show="vote.title === '2015年校卓越教学名师评选'">点击进入青年教学新秀评选</a>
          
        </div>
        <div class="visible-xs visible-sm text-center">
          <img class="boxShadow" src="/img/word_bg.png" style="width: 200px;margin-top: 10px">
        </div>
        <div class="clearfix"></div>
        <div>
          <hr>
          <p>最大投票数：{{vote.maxVote}}</p>

          <p>开始时间：{{startTime | date:cnFormat}}</p>

          <p>结束时间：{{stopTime | date:cnFormat}}</p>

          <p ng-bind-html="vote.description"></p>
        </div>
      </div>
    </div>
    <div class="clearfix"></div>
    <div class="col-md-12 voteLargeBox">
      <div class="col-md-offset-4 col-md-4">
        <div class="input-group boxShadow">
          <span class="input-group-addon" style="background-color: #F0AD4E;color: #ffffff">参与者身份选择</span>
          <select class="form-control" id="verifyRule" ng-model="cRule" ng-change="ruleChange()" required>
            <option value="name">校友</option>
            <option value="studentId">教职工/学生</option>
          </select>
        </div>
      </div>
      <div class="col-md-4 hidden-xs">
        <p style="line-height: 40px;margin: 0"><span style="color: #4EA0D2" class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> {{vote.voteSubitems.length}}位候选人不分先后，按姓氏拼音排列</p>
      </div>
      <div class="text-center visible-xs col-xs-12">
        <p style="line-height: 40px;margin: 0"><span style="color: #4EA0D2" class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> {{vote.voteSubitems.length}}位候选人不分先后，按姓氏拼音排列</p>
      </div>
      <div class="clearfix"></div>
      <hr>
      <div class="voteBox col-xs-6 col-sm-6 col-md-4" ng-repeat="vsb in vote.voteSubitems" ng-click="isAuthed()">
        <div class="thumbnail text-center boxShadow">
          <div style="cursor: pointer" ng-click="open($index)">
            <img class="logo_img" ng-src="{{vsb.imgUrl}}" style="height: 130px;width: 130px" height="150px"
                 width="150px">
            <a href="">
              <img class="viewintro" alt="查看简介" src="/img/intro.png">
            </a>

            <p>{{$index+1}}号&nbsp;{{vsb.name}}</p>
            <p>票数：<span style="color: #B20000">{{vsb.count}}</span></p>
          </div>
          <div class="chosen" style="display: block" ng-show="answer[$index] === true">
            <div class="mask"></div>
            <img class="chooseimg" alt="已选择" src="/img/choose.png">
          </div>
          <button ng-show="answer[$index] === false" ng-click="cAuth($index, 1)"
                  class="btn btn-primary btn-block choosebtn">
            点击选择
          </button>
          <button ng-show="answer[$index] === true" ng-click="cAuth($index, 0)"
                  class="btn btn-primary btn-block choosebtn">
            点击取消选择
          </button>
        </div>
      </div>
      <div class="clearfix"></div>
      <hr>
      <div class="submitBtn col-md-6 col-md-offset-3">
        <p>已选择：<b>{{choosed}}</b>个。 最多能选择：<b>{{vote.maxVote}}</b>个</p>
        <input class="form-control text-center boxShadow" type="text" ng-model="verifyResult"
               placeholder="请输入您的{{verifyRule}}" ng-disabled="cRule === 'studentId'" ng-disabled="!cRule" required>
        <button class="btn btn-block btn-success col-sm-2 col-md-2 boxShadow" ng-disabled="!Authed" ng-click="submit()">投票！</button>
      </div>
      <div class="clearfix"></div>
    </div>

    <script type="text/ng-template" id="detailModal">
      <div class="modal-header">
        <h3 class="modal-title">简介</h3>
      </div>
      <div class="modal-body">
        <div ng-bind-html="content" style="width: 100%;overflow: auto"></div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-warning" ng-click="cancel()">关闭</button>
      </div>
    </script>

    <script type="text/ng-template" id="studentModal">
      <div class="modal-header">
        <h3 class="modal-title">教务系统绑定</h3>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="number">职工号/学号</label>
            <input id="number" class="form-control" type="text" ng-model="hduId" placeholder="请输入您的职工号/学号">
          </div>
          <div class="form-group">
            <label for="psd">教务系统密码</label>
            <input id="psd" class="form-control" type="password" ng-model="hduPwd" placeholder="请输入您的教务密码">
          </div>
          <span ng-show="error" class="error">两项都是必填哦</span>
        </form>
        <button class="btn btn-primary btn-block" ng-click="bindID()">确认验证</button>
      </div>
      <div class="modal-footer">
        <button class="btn btn-warning" ng-click="cancel()">关闭</button>
      </div>
    </script>
    <br>

    <div class="clearfix"></div>
    <div class="text-center footer" style="margin: 10px;font-family:'Microsoft YaHei', '微软雅黑'">
      <a href="/"><img src="/img/full-logo.png" height="25px" alt="团团一家LOGO">&nbsp;提供技术支持</a>
    </div>
    <div class="clearfix"></div>
  </div>
</div>
</body>
</html>
