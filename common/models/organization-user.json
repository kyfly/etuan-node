{
  "name": "OrganizationUser",
  "base": "User",
  "strict": true,
  "idInjection": true,
  "properties": {
    "phone": {
      "type": "number",
      "comments": "联系人手机号码"
    },
    "name": {
      "type": "string",
      "comments": "组织名称"
    },
    "type": {
      "type": "string",
      "comments": "组织类型（'校级组织','职能社团','院级组织','校级社团','院级社团'）"
    },
    "school": {
      "type": "string",
      "comments": "大学内部的学院"
    },
    "university": {
      "type": "string",
      "comments": "大学（为了支持后期多个大学使用）"
    },
    "logoUrl": {
      "type": "string",
      "comments": "logo图片地址"
    },
    "description": {
      "type": "string",
      "comments": "组织介绍 200字以内"
    },
    "internalOrder": {
      "type": "number",
      "comments": "内部顺序,默认1000,000"
    },
    "photoUrl": {
      "type": [
        "string"
      ],
      "comments": "组织展示图片，0-3张可选"
    },
    "weChat": {
      "type": "string",
      "comments": "组织微信号"
    },
    "updatedAt": {
      "type": "date",
      "comments": "更新时间"
    }
  },
  "validations": [],
  "relations": {
    "departments": {
      "type": "embedsMany",
      "model": "OrganizationUserDepartment",
      "option": {
        "validate": true,
        "autoId": true
      }
    },
    "forms": {
      "type": "hasMany",
      "model": "Form",
      "foreignKey": "organizationUid"
    },
    "weChatMPs": {
      "type": "hasMany",
      "model": "WeChatMP",
      "foreignKey": "organizationUid"
    }
  },
  "acls": [
    {
      "principalType": "ROLE",
      "principalId": "$owner",
      "permission": "ALLOW",
      "property": "__create__forms"
    },
    {
      "principalType": "ROLE",
      "principalId": "$owner",
      "permission": "ALLOW",
      "property": "__count__forms"
    },
    {
      "principalType": "ROLE",
      "principalId": "$owner",
      "permission": "ALLOW",
      "property": "__destroyById__forms"
    },
    {
      "principalType": "ROLE",
      "principalId": "$owner",
      "permission": "ALLOW",
      "property": "__findById__forms"
    },
    {
      "principalType": "ROLE",
      "principalId": "$owner",
      "permission": "ALLOW",
      "property": "__get__forms"
    },
    {
      "principalType": "ROLE",
      "principalId": "$owner",
      "permission": "ALLOW",
      "property": "__updateById__forms"
    }
  ],
  "methods": []
}
